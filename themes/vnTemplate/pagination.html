<div class="pagination">
  ${currentPage > 1 ? `
    <a href="${pathPrefix}${currentPage === 2 ? (config.path ? `${slugify(config.path)}.html` : 'index.html') : filenamePattern.replace('*', currentPage - 1)}" class="prev">‹ Prev</a>
  ` : ''}

  <!-- Always show first page -->
  ${currentPage > 4 ? `
    <a href="${pathPrefix}${config.path ? `${slugify(config.path)}.html` : 'index.html'}">1</a>
    ${currentPage > 5 ? `<span class="ellipsis">…</span>` : ''}
  ` : ''}

  <!-- Show surrounding pages -->
  ${Array.from({ length: Math.min(7, totalPages) }, (_, i) => {
    let page;
    if (currentPage <= 4) {
      page = i + 1;
    } else if (currentPage >= totalPages - 3) {
      page = totalPages - 6 + i;
    } else {
      page = currentPage - 3 + i;
    }
    return page;
  }).filter(page => page >= 1 && page <= totalPages).map(page => `
    ${page === currentPage ? `
      <span class="current">${page}</span>
    ` : `
      <a href="${pathPrefix}${page === 1 ? (config.path ? `${slugify(config.path)}.html` : 'index.html') : filenamePattern.replace('*', page)}">${page}</a>
    `}
  `).join('')}

  <!-- Always show last page -->
  ${currentPage < totalPages - 3 ? `
    ${currentPage < totalPages - 4 ? `<span class="ellipsis">…</span>` : ''}
    <a href="${pathPrefix}${filenamePattern.replace('*', totalPages)}">${totalPages}</a>
  ` : ''}

  ${currentPage < totalPages ? `
    <a href="${pathPrefix}${filenamePattern.replace('*', currentPage + 1)}" class="next">Next ›</a>
  ` : ''}
</div>
<style>
  .pagination {
    display: flex;
    gap: 5px;
    margin: 20px 0;
    justify-content: center;
  }
  .pagination a, .pagination span {
    padding: 5px 10px;
    border: 1px solid #ddd;
    text-decoration: none;
  }
  .pagination .current {
    background: #333;
    color: white;
    border-color: #333;
  }
  .pagination a:hover {
    background: #f0f0f0;
  }
  .ellipsis {
    display: flex;
    align-items: flex-end;
  }
</style>
